{% load i18n %}
<div class="modal fade" id="owncloud_modal" tabindex="-1" role="dialog" aria-labelledby="owncloud_modal_label">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h3 id="owncloud_modal_label">{% trans "Connect an ownCloud Account" %}</h3>
            </div>
            <div class="modal-body">
                <div class='row'>
                    <div class="col-sm-6">
                        <div id="owncloud_custom_host">
                            <label>{% trans "Host URL" %}</label>
                            <div class="input-group form-group">
                                <div class="input-group-addon">https://</div>
                                <input required type="text" class="form-control owncloud-params" id="owncloud_host" name="customHost" data-bind="value: customHost" placeholder="owncloud.example.org">
                            </div>
                            <div class="text-muted" style="text-align: center">
                                <em>{% blocktrans with webdavUrl='href="https://doc.nextcloud.org/server/9.1/user_manual/files/access_webdav.html" target="_blank"' ocsUrl='href="https://www.freedesktop.org/wiki/Specifications/open-collaboration-services-1.7/" target="_blank"' %}
                                    Only ownCloud instances supporting <a {{ webdavUrl }}>WebDAV</a> and <a {{ ocsUrl }}>OCS v1.7</a> are supported.
                                    {% endblocktrans %}
                                </em>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="owncloud_folder">{% trans "Folder" %}</label>
                            <input required type="text" class="form-control owncloud-params" id="owncloud_folder" placeholder="/institutional/OSF Storage/">
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="owncloud_username">{% trans "Username" %}</label>
                            <input required type="text" class="form-control owncloud-params" id="owncloud_username" placeholder="{% trans 'username' %}">
                        </div>
                        <div class="form-group">
                            <label for="owncloud_password">{% trans "Password" %}</label>
                            <input required type="password" class="form-control owncloud-params" id="owncloud_password" placeholder="********">
                        </div>
                        <div class="text-muted" style="text-align: center">
                            <em>{% blocktrans with openWithNewWindow='href="https://doc.nextcloud.org/server/9.1/user_manual/session_management.html#managing-devices" target="_blank"' %}
                                These credentials will be encrypted. However, we <strong>strongly encourage</strong> using a <a {{ openWithNewWindow }}> Device (or App) Password</a>.
                                {% endblocktrans %}
                            </em>
                        </div>
                    </div>
                </div>
                <div class="help-block">
                    <p id='owncloud_message' class='text-danger'></p>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Cancel" %}</button>
                <button type="button" class="btn btn-success test-connection" id="owncloud_connect" disabled>{% trans "Connect" %}</button>
                <button type="button" class="btn btn-default save-credentials" id="owncloud_save" disabled>{% trans "Save" %}</button>
            </div>
        </div>
    </div>
</div>
